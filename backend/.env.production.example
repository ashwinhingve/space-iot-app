# IoT Space Backend - Production Environment Configuration
# Copy this file to .env.production and fill in the values

# ============================================================
# SERVER CONFIGURATION
# ============================================================
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://iot.spaceautotech.com

# ============================================================
# MONGODB ATLAS
# ============================================================
# Get this from MongoDB Atlas: Database > Connect > Connect your application
MONGODB_URI=mongodb+srv://iotspace_admin:YOUR_PASSWORD@cluster.mongodb.net/iotspace?retryWrites=true&w=majority

# ============================================================
# AUTHENTICATION SECRETS
# ============================================================
# Generate with: openssl rand -hex 64 (minimum 64 characters)
JWT_SECRET=

# Generate with: openssl rand -hex 32 (exactly 64 hex characters for AES-256)
WIFI_ENCRYPTION_KEY=

# Get from Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_ID=

# ============================================================
# MQTT CONFIGURATION
# Set MQTT_MODE to one of: local, aws, cloud
# ============================================================
MQTT_MODE=cloud

# --- Mode: cloud (HiveMQ Cloud) ---
# Use your HiveMQ Cloud cluster endpoint from console.hivemq.cloud
# Format: mqtts://<cluster-id>.s1.eu.hivemq.cloud:8883
MQTT_BROKER_URL=mqtts://YOUR_CLUSTER_ID.s1.eu.hivemq.cloud:8883
MQTT_USERNAME=your-hivemq-username
MQTT_PASSWORD=your-hivemq-password

# --- Mode: aws (AWS IoT Core) ---
# AWS_REGION=us-east-1
# AWS_IOT_ENDPOINT=xxxxxx.iot.region.amazonaws.com
# AWS_IOT_CERT_PATH=/etc/iotspace/certs/device.pem.crt
# AWS_IOT_KEY_PATH=/etc/iotspace/certs/private.pem.key
# AWS_IOT_CA_PATH=/etc/iotspace/certs/AmazonRootCA1.pem

# --- Mode: local (development only) ---
# MQTT_PORT=1883

# ============================================================
# TTN (The Things Network) - Optional
# Apps can be configured via the TTN page in the UI.
# These env vars are only needed for legacy single-app setup.
# ============================================================
# TTN_REGION=eu1
# TTN_APPLICATION_ID=your-ttn-application-id
# TTN_API_KEY=your-ttn-api-key

# Backend public URL (used for TTN webhooks)
BACKEND_URL=https://api.spaceautotech.com
