# IoT Space Backend - Production Environment Configuration
# Copy this file to .env.production and fill in the values

# ============================================================
# SERVER CONFIGURATION
# ============================================================
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://iot.spaceautotech.com

# ============================================================
# MONGODB ATLAS
# ============================================================
# Get this from MongoDB Atlas: Database > Connect > Connect your application
MONGODB_URI=mongodb+srv://iotspace_admin:YOUR_PASSWORD@cluster.mongodb.net/iotspace?retryWrites=true&w=majority

# ============================================================
# AUTHENTICATION SECRETS
# ============================================================
# Generate with: openssl rand -hex 64 (minimum 64 characters)
JWT_SECRET=

# Generate with: openssl rand -hex 32 (exactly 64 hex characters for AES-256)
WIFI_ENCRYPTION_KEY=

# Get from Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_ID=

# ============================================================
# MQTT CONFIGURATION
# Set MQTT_MODE to one of: local, aws, cloud
# ============================================================
MQTT_MODE=cloud

# --- Mode: cloud (Railway / hosted broker) ---
# Use HiveMQ Cloud, EMQX Cloud, or any external MQTT broker
MQTT_BROKER_URL=mqtts://broker.hivemq.com:8883
MQTT_USERNAME=
MQTT_PASSWORD=

# --- Mode: aws (AWS IoT Core) ---
# AWS_REGION=us-east-1
# AWS_IOT_ENDPOINT=xxxxxx.iot.region.amazonaws.com
# AWS_IOT_CERT_PATH=/etc/iotspace/certs/device.pem.crt
# AWS_IOT_KEY_PATH=/etc/iotspace/certs/private.pem.key
# AWS_IOT_CA_PATH=/etc/iotspace/certs/AmazonRootCA1.pem

# --- Mode: local (development only) ---
# MQTT_PORT=1883
